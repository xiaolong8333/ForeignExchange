<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"> 
<title>菜鸟教程(runoob.com)</title> 
<script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js">
</script>
<script>
$(document).ready(function(){
var webSocket = new WebSocket("ws://192.168.0.150:9501");
  webSocket.onopen = function (event) {
  //webSocket.send("Hello,WebSocket!"); 
  };
  webSocket.onmessage = function (event) {
    var content = document.getElementById('content');
	console.log(event.data)
    content.innerHTML = content.innerHTML.concat('<p style="margin-left:20px;height:20px;line-height:20px;">用户id-'+event.data+'</p>');
  }
	  $("#sendMessage").click(function(){
			  console.log('发送消息')
			  //api_name  getuserfor=>用户自选外汇列表 userorderlist=》用户持仓列表
			var data =  '{"api_name":"get_one_for_list","id":12,"token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOlwvXC8xOTIuMTY4LjAuMTUwOjgwMDVcL2FwaVwvYXV0aG9yaXphdGlvbnMiLCJpYXQiOjE1OTkxMDI3MjIsImV4cCI6MTYwMjcwMjcyMiwibmJmIjoxNTk5MTAyNzIyLCJqdGkiOiJ5c2ZQYjNHWkI3WVNLVUpHIiwic3ViIjoyLCJwcnYiOiIyM2JkNWM4OTQ5ZjYwMGFkYjM5ZTcwMWM0MDA4NzJkYjdhNTk3NmY3In0.e1_9EHavSpHiPINi2LuiG3TXe3kOoMUHjrznejzMntM" }' ;
		//var data = {'id':2,'token':'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwOlwvXC8xOTIuMTY4LjAuMTUwOjgwMDVcL2FwaVwvYXV0aG9yaXphdGlvbnMiLCJpYXQiOjE1OTg4NTE1MzMsImV4cCI6MTYwMjQ1MTUzMywibmJmIjoxNTk4ODUxNTMzLCJqdGkiOiJFY2RUbVdQM3g1YjJyTks5Iiwic3ViIjoyLCJwcnYiOiIyM2JkNWM4OTQ5ZjYwMGFkYjM5ZTcwMWM0MDA4NzJkYjdhNTk3NmY3In0.eb5iKXjNEZv-Il2iIo7ndLo2egiZhDnLfLX7okLPrNk'};
	  webSocket.send(data);
	  })
});
</script>
</head>
<body>
<body>
<div style="width:600px;margin:0 auto;border:1px solid #ccc;">
<div id="content" style="overflow-y:auto;height:300px;"></div>
<hr/>
<div style="height:40px">
<input type="text" id="message" style="margin-left:10px;height:25px;width:450px;">
<button id = 'sendMessage'  style="height:28px;width:75px;">发送</button>
</div>
</div>
</body>
</body>
</html>